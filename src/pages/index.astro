---
import Projects from '@/components/ui/Projects.astro'
import Main from '@/layouts/main.astro'
---

<Main title="Welcome to Noxy site!">
	<header class="p-5 border-b-2 border-primary/5 sticky top-0 bg-background">
		<nav
			class="flex flex-row items-center justify-between container mx-auto max-w-2xl"
		>
			<a href="/">NX</a>
			<button
				class="p-2 rounded-md border-2 hover:bg-primary/5 duration-100"
				id="toggleTheme"
			>
				<svg
					xmlns="http://www.w3.org/2000/svg"
					width="32"
					height="32"
					viewBox="0 0 32 32"
					class="h-5 w-5 ease-in-out hidden dark:block"
					><path
						fill="currentColor"
						d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3Z"
					></path></svg
				>
				<svg
					xmlns="http://www.w3.org/2000/svg"
					width="32"
					height="32"
					viewBox="0 0 32 32"
					class="h-5 w-5 ease-in-out dark:hidden block"
					><path
						fill="currentColor"
						d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6ZM5.394 6.813L6.81 5.399l3.505 3.506L8.9 10.319zM2 15.005h5v2H2zm3.394 10.193L8.9 21.692l1.414 1.414l-3.505 3.506zM15 25.005h2v5h-2zm6.687-1.9l1.414-1.414l3.506 3.506l-1.414 1.414zm3.313-8.1h5v2h-5zm-3.313-6.101l3.506-3.506l1.414 1.414l-3.506 3.506zM15 2.005h2v5h-2z"
					></path></svg
				>
			</button>
		</nav>
	</header>
	<main
		class="container mx-auto max-w-2xl flex flex-col justify-center h-full min-h-screen"
	>
		<section
			class="flex flex-col justify-center items-center w-full mt-20 space-y-2 h-full"
		>
			<img
				src="https://avatars.githubusercontent.com/u/64338695?v=4"
				alt="Mi avatar de Gituhb"
				class="rounded-full"
				height="128"
				width="128"
			/>
			<h1
				class="scroll-m-20 text-4xl font-extrabold tracking-tight lg:text-5xl text-center"
			>
				Gon (Nox)
			</h1>
			<p class="leading-7 [&:not(:first-child)]:mt-6 text-center">
				Software developer && sometimes a WoW fan.
			</p>
		</section>
		<section class="flex flex-col justify-center mt-20">
			<h2
				class="scroll-m-20 border-b pb-2 text-3xl font-semibold tracking-tight transition-colors first:mt-0"
			>
				Latest projects
			</h2>
			<Projects />
		</section>

	</main>
</Main>
<script is:inline lang="ts">
const rootEl = document.documentElement
const triggerDocumentThemeChange = () => {
	const theme = localStorage.getItem('theme') ?? 'light'
	if (theme === 'dark') {
		rootEl.classList.add('dark')
	} else {
		rootEl.classList.remove('dark')
	}
}

const toggleThemEl = document.getElementById('toggleTheme')
triggerDocumentThemeChange()

const toggleTheme = () => {
	const theme = localStorage.getItem('theme') ?? 'light'
	if (theme === 'dark') {
		localStorage.setItem('theme', 'light')
		triggerDocumentThemeChange()
	} else {
		localStorage.setItem('theme', 'dark')
		triggerDocumentThemeChange()
	}
	}
	toggleThemEl.addEventListener('click', toggleTheme)
</script>
